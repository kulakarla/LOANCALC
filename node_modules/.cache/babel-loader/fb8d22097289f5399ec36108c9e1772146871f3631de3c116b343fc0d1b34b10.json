{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/loancalc_logo.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-17e69338\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"root\"\n};\nconst _hoisted_2 = {\n  class: \"databox\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"inputDiv\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  class: \"inputDiv\"\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  class: \"inputDiv\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    name: \"personalCode\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.personalCode = $event),\n    placeholder: \"Personal code\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.personalCode]]), $data.v$.personalCode.$error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, _toDisplayString($data.v$.personalCode.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    name: \"loanAmount\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loanAmount = $event),\n    placeholder: \"Loan amount\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loanAmount]]), $data.v$.loanAmount.$error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString($data.v$.loanAmount.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    name: \"loanDuration\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.loanDuration = $event),\n    placeholder: \"Loan duration\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loanDuration]]), $data.v$.loanDuration.$error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($data.v$.loanDuration.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.validLoan && $options.validLoan(...args)),\n    disabled: $data.v$.$error ? true : false\n  }, \"SUBMIT\", 8 /* PROPS */, _hoisted_10)])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","name","$data","personalCode","$event","placeholder","v$","$error","_hoisted_5","_toDisplayString","$errors","$message","_hoisted_6","loanAmount","_hoisted_7","_hoisted_8","loanDuration","_hoisted_9","onClick","_cache","args","$options","validLoan","disabled","_hoisted_10"],"sources":["C:\\Users\\Karl Kristjan Tamm\\Documents\\praktikad\\inbank\\inbankVNOUFIX\\inbank\\src\\views\\MainView.vue"],"sourcesContent":["<template>\r\n  <div class=\"root\">\r\n    <div class=\"databox\">\r\n      <img src=\"../assets/loancalc_logo.png\">\r\n      <div class=\"inputDiv\">\r\n        <input type=\"text\" name=\"personalCode\" v-model=\"personalCode\" placeholder=\"Personal code\"/>\r\n        <p v-if=\"v$.personalCode.$error\">{{ v$.personalCode.$errors[0].$message }}</p>\r\n      </div>\r\n      <div class=\"inputDiv\">\r\n        <input type=\"text\" name=\"loanAmount\" v-model=\"loanAmount\" placeholder=\"Loan amount\"/>\r\n        <p v-if=\"v$.loanAmount.$error\">{{ v$.loanAmount.$errors[0].$message }}</p>\r\n      </div>\r\n      <div class=\"inputDiv\">\r\n        <input type=\"text\" name=\"loanDuration\" v-model=\"loanDuration\" placeholder=\"Loan duration\"/>\r\n        <p v-if=\"v$.loanDuration.$error\"> {{ v$.loanDuration.$errors[0].$message }}</p>\r\n      </div>\r\n      <button @click=\"validLoan\" :disabled=\"v$.$error ? true : false\">SUBMIT</button>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport useVuelidate from '@vuelidate/core'\r\nimport {required, helpers} from '@vuelidate/validators'\r\n//import {reactive} from 'vue'\r\n\r\nexport default {\r\n  name: 'MainView',\r\n\r\n  data(){\r\n    return{\r\n      v$: useVuelidate(),\r\n      personalCode: '',\r\n      loanAmount: '',\r\n      loanDuration: '',\r\n    }\r\n  },\r\n\r\n  validations(){\r\n\r\n    const validPersonalCode = (value) => /^[1-6][0-9]{8}(65|76|87|98)$/.test(value)\r\n\r\n    const validAmount = (value) => Number(value) >= 2000 && Number(value <= 10000)\r\n\r\n    const validDuration = (value) => /^[0-9]{2}$/.test(value) && Number(value) >= 12 && Number(value <= 60)\r\n\r\n    return{\r\n      personalCode: {\r\n        required,\r\n        validPersonalCode: helpers.withMessage(\"Invalid personal code\", validPersonalCode),\r\n      },\r\n      loanAmount: {\r\n        required,\r\n        validAmount: helpers.withMessage(\"Loan must be between 2000 and 10000\", validAmount),\r\n      },\r\n      loanDuration: {\r\n        required,\r\n        validDuration: helpers.withMessage(\"Loans are given for periods between 12 to 60 months\", validDuration)\r\n      }\r\n    };\r\n  },\r\n  methods:{\r\n    validLoan(){\r\n      this.v$.$touch()\r\n\r\n      if(!this.v$.$error){\r\n      fetch(`http://localhost:3000/api/loans/${this.personalCode}/${this.loanAmount}/${this.loanDuration}`)\r\n          .then( response => response.json())\r\n          .then( data => {\r\n\r\n            console.log(data);\r\n\r\n            if(data.getsLoan){\r\n              if(data.loanInitialPeriod){\r\n                console.log(\"Initial loan period success\")\r\n                this.$router.push('/success/' + data.loanAmount + '/' + data.initialPeriod)\r\n              }else{\r\n                console.log(\"Non initial period success\")\r\n                this.$router.push('/success/' + data.loanAmount + '/' + data.minimumLoanHypotheticalPeriod + '/' + data.possibleInitialLoanPeriod)\r\n              }\r\n            }else{\r\n              console.log(\"Loan rejected\")\r\n              this.$router.push('/failure')\r\n            }\r\n\r\n          })\r\n          .catch( err => console.log(err.message))\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.root{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.databox{\r\n  border-radius:10px;\r\n  border: 3px solid #2A0A55;\r\n  width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 0.5%;\r\n  margin: 0.5%;\r\n\r\n}\r\n\r\n\r\n.inputDiv{\r\n  width: 300px;\r\n  margin-bottom: 10px;\r\n  margin-top: 10px;\r\n\r\n}\r\n\r\n.copyright{\r\n  width: 400px;\r\n}\r\n\r\np{\r\n  word-wrap: break-word;\r\n  margin-top: 3px;\r\n  margin-bottom: 0;\r\n  color: #C16E70;\r\n  font-size: 10px;\r\n}\r\n\r\n\r\ninput{\r\n  border: none;\r\n  outline: 0;\r\n  border-bottom: 1px solid purple;\r\n  width: 100%;\r\n  font-size: 20px;\r\n  color: #5B5B5D;\r\n  font-family: Helvetica, serif;\r\n  letter-spacing: -0.75px;\r\n}\r\n\r\n\r\nimg{\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\nbutton{\r\n  width: 200px;\r\n  height: 50px;\r\n  border: 2px solid #2A0A55;\r\n  background-color: #2A0A55;\r\n  color: white;\r\n  font-size: 25px;\r\n  font-family: \"Raleway\";\r\n  transition-duration: 0.4s;\r\n  margin-top: 10px;\r\n  border-radius: 2px;\r\n  margin-bottom: 10px;\r\n}\r\nbutton:hover{\r\n  background-color: white;\r\n  color: #2A0A55;\r\n  cursor: pointer;\r\n\r\n\r\n}\r\n\r\nbutton:disabled{\r\n  opacity: 0.5;\r\n  cursor: poi\r\n}\r\n\r\n::placeholder{\r\n  opacity: 0.3;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>"],"mappings":";OAGWA,UAAiC;;;EAFrCC,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAS;gEAClBC,mBAAA,CAAuC;EAAlCC,GAAiC,EAAjCH;AAAiC;;EACjCC,KAAK,EAAC;AAAU;;;;;EAIhBA,KAAK,EAAC;AAAU;;;;;EAIhBA,KAAK,EAAC;AAAU;;;;;;uBAXzBG,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJH,mBAAA,CAeM,OAfNI,UAeM,GAdJC,UAAuC,EACvCL,mBAAA,CAGM,OAHNM,UAGM,G,gBAFJN,mBAAA,CAA2F;IAApFO,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,cAAc;+DAAUC,KAAA,CAAAC,YAAY,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAA1BH,KAAA,CAAAC,YAAY,E,GACnDD,KAAA,CAAAI,EAAE,CAACH,YAAY,CAACI,MAAM,I,cAA/BZ,mBAAA,CAA8E,KAAAa,UAAA,EAAAC,gBAAA,CAA1CP,KAAA,CAAAI,EAAE,CAACH,YAAY,CAACO,OAAO,IAAIC,QAAQ,oB,qCAEzElB,mBAAA,CAGM,OAHNmB,UAGM,G,gBAFJnB,mBAAA,CAAqF;IAA9EO,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,YAAY;+DAAUC,KAAA,CAAAW,UAAU,GAAAT,MAAA;IAAEC,WAAW,EAAC;iDAAxBH,KAAA,CAAAW,UAAU,E,GAC/CX,KAAA,CAAAI,EAAE,CAACO,UAAU,CAACN,MAAM,I,cAA7BZ,mBAAA,CAA0E,KAAAmB,UAAA,EAAAL,gBAAA,CAAxCP,KAAA,CAAAI,EAAE,CAACO,UAAU,CAACH,OAAO,IAAIC,QAAQ,oB,qCAErElB,mBAAA,CAGM,OAHNsB,UAGM,G,gBAFJtB,mBAAA,CAA2F;IAApFO,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,cAAc;+DAAUC,KAAA,CAAAc,YAAY,GAAAZ,MAAA;IAAEC,WAAW,EAAC;iDAA1BH,KAAA,CAAAc,YAAY,E,GACnDd,KAAA,CAAAI,EAAE,CAACU,YAAY,CAACT,MAAM,I,cAA/BZ,mBAAA,CAA+E,KAAAsB,UAAA,EAAAR,gBAAA,CAA1CP,KAAA,CAAAI,EAAE,CAACU,YAAY,CAACN,OAAO,IAAIC,QAAQ,oB,qCAE1ElB,mBAAA,CAA+E;IAAtEyB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;IAAGG,QAAQ,EAAErB,KAAA,CAAAI,EAAE,CAACC,MAAM;KAAiB,QAAM,iBAAAiB,WAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}